$(function(){});$(function(){$(".audiobook-switcher a").tooltip({tip:".tooltip",effect:"fade",fadeOutSpeed:100,predelay:0,position:"bottom right",offset:[-25,5]})});function unique(a){var e=[],d=0;a:for(;d<a.length;d++){for(var c=0;c<e.length;c++)if(e[c]==a[d])continue a;e[e.length]=a[d]}return e}
(function(a){if(!a.Indextank)a.Indextank={};a.Indextank.Ize=function(e,d,c,b){var f=this;f.$el=a(e);f.el=e;if(!/http(s)?:\/\/[a-z0-9]+.api.indextank.com/.test(d))throw"invalid api url!";if(c==void 0)throw"index name is not defined!";f.$el.data("Indextank.Ize",f);f.init=function(){f.apiurl=d;f.indexName=c;f.options=a.extend({},a.Indextank.Ize.defaultOptions,b)};f.init()};a.Indextank.Ize.defaultOptions={};a.fn.indextank_Ize=function(e,d,c){return this.each(function(){new a.Indextank.Ize(this,e,d,c)})};
a.fn.getIndextank_Ize=function(){this.data("Indextank.Ize")}})(jQuery);
(function(a){if(!a.Indextank)a.Indextank={};a.Indextank.Autocomplete=function(e,d){var c=this;c.$el=a(e);c.el=e;c.$el.data("Indextank.Autocomplete",c);c.init=function(){c.options=a.extend({},a.Indextank.Autocomplete.defaultOptions,d);var b=a(c.el.form).data("Indextank.Ize");c.$el.autocomplete({select:function(b,d){b.target.value=d.item.value;a(b.target.form).submit()},source:function(d,e){a.ajax({url:b.apiurl+"/v1/indexes/"+b.indexName+"/autocomplete",dataType:"jsonp",data:{query:d.term,field:c.options.fieldName},
success:function(a){e(a.suggestions);c.$el.trigger("Indextank.Autocomplete.success",[a.suggestions])}})},minLength:c.options.minLength,delay:c.options.delay});b.$el.submit(function(){c.$el.data("autocomplete").close()});c.$el.bind("Indextank.AjaxSearch.searching",function(){})};c.init()};a.Indextank.Autocomplete.defaultOptions={fieldName:"text",minLength:2,delay:100};a.fn.indextank_Autocomplete=function(e){return this.each(function(){new a.Indextank.Autocomplete(this,e)})};a.fn.getIndextank_Autocomplete=
function(){this.data("Indextank.Autocomplete")}})(jQuery);var publicApiUrl="http://6wfx.api.indextank.com",indexName="classicly_staging";$(document).ready(function(){$("#indexTankForm").indextank_Ize(publicApiUrl,indexName);$("#term").indextank_Autocomplete()});
window.jQuery&&function(a){if(a.browser.msie)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}a.fn.rating=function(d){if(this.length==0)return this;if(typeof arguments[0]=="string"){if(this.length>1){var c=arguments;return this.each(function(){a.fn.rating.apply(a(this),c)})}a.fn.rating[arguments[0]].apply(this,a.makeArray(arguments).slice(1)||[]);return this}d=a.extend({},a.fn.rating.options,d||{});a.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var b,
c=a(this),e=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),j=a(this.form||document.body),k=j.data("rating");if(!k||k.call!=a.fn.rating.calls)k={count:0,call:a.fn.rating.calls};var h=k[e];h&&(b=h.data("rating"));if(h&&b)b.count++;else{b=a.extend({},d||{},(a.metadata?c.metadata():a.meta?c.data():null)||{},{count:0,stars:[],inputs:[]});b.serial=k.count++;h=a('<span class="star-rating-control"/>');c.before(h);h.addClass("rating-to-be-drawn");if(c.attr("disabled"))b.readOnly=
!0;h.append(b.cancel=a('<div class="rating-cancel"><a title="'+b.cancel+'">'+b.cancelValue+"</a></div>").mouseover(function(){a(this).rating("drain");a(this).addClass("star-rating-hover")}).mouseout(function(){a(this).rating("draw");a(this).removeClass("star-rating-hover")}).click(function(){a(this).rating("select")}).data("rating",b))}var g=a('<div class="star-rating rater-'+b.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");h.append(g);this.id&&g.attr("id",this.id);this.className&&
g.addClass(this.className);if(b.half)b.split=2;if(typeof b.split=="number"&&b.split>0){var i=(a.fn.width?g.width():0)||b.starWidth,m=b.count%b.split;i=Math.floor(i/b.split);g.width(i).find("a").css({"margin-left":"-"+m*i+"px"})}b.readOnly?g.addClass("star-rating-readonly"):g.addClass("star-rating-live").mouseover(function(){a(this).rating("fill");a(this).rating("focus")}).mouseout(function(){a(this).rating("draw");a(this).rating("blur")}).click(function(){a(this).rating("select")});if(this.checked)b.current=
g;c.hide();c.change(function(){a(this).rating("select")});g.data("rating.input",c.data("rating.star",g));b.stars[b.stars.length]=g[0];b.inputs[b.inputs.length]=c[0];b.rater=k[e]=h;b.context=j;c.data("rating",b);h.data("rating",b);g.data("rating",b);j.data("rating",k)});a(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};a.extend(a.fn.rating,{calls:0,focus:function(){var d=this.data("rating");if(!d)return this;if(!d.focus)return this;var c=a(this).data("rating.input")||
a(this.tagName=="INPUT"?this:null);d.focus&&d.focus.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])},blur:function(){var d=this.data("rating");if(!d)return this;if(!d.blur)return this;var c=a(this).data("rating.input")||a(this.tagName=="INPUT"?this:null);d.blur&&d.blur.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])},fill:function(){var a=this.data("rating");if(!a)return this;a.readOnly||(this.rating("drain"),this.prevAll().andSelf().filter(".rater-"+a.serial).addClass("star-rating-hover"))},
drain:function(){var a=this.data("rating");if(!a)return this;a.readOnly||a.rater.children().filter(".rater-"+a.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var d=this.data("rating");if(!d)return this;this.rating("drain");d.current?(d.current.data("rating.input").attr("checked","checked"),d.current.prevAll().andSelf().filter(".rater-"+d.serial).addClass("star-rating-on")):a(d.inputs).removeAttr("checked");d.cancel[d.readOnly||d.required?"hide":"show"]();this.siblings()[d.readOnly?
"addClass":"removeClass"]("star-rating-readonly")},select:function(d,c){var b=this.data("rating");if(!b)return this;if(!b.readOnly){b.current=null;if(typeof d!="undefined"){if(typeof d=="number")return a(b.stars[d]).rating("select",void 0,c);typeof d=="string"&&a.each(b.stars,function(){a(this).data("rating.input").val()==d&&a(this).rating("select",void 0,c)})}else b.current=this[0].tagName=="INPUT"?this.data("rating.star"):this.is(".rater-"+b.serial)?this:null;this.data("rating",b);this.rating("draw");
var e=a(b.current?b.current.data("rating.input"):null);(c||c==void 0)&&b.callback&&b.callback.apply(e[0],[e.val(),a("a",b.current)[0]])}},readOnly:function(d,c){var b=this.data("rating");if(!b)return this;b.readOnly=d||d==void 0?!0:!1;c?a(b.inputs).attr("disabled","disabled"):a(b.inputs).removeAttr("disabled");this.data("rating",b);this.rating("draw")},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}});a.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",
split:0,starWidth:16};a(function(){a("input[type=radio].star").rating()})}(jQuery);
(function(a){function e(b){var c=a('meta[name="csrf-token"]').attr("content");c&&b.setRequestHeader("X-CSRF-Token",c)}function d(b,c,d){c=new a.Event(c);b.trigger(c,d);return c.result!==!1}function c(b){var c,e,i,f=b.attr("data-type")||a.ajaxSettings&&a.ajaxSettings.dataType;if(b.is("form")){c=b.attr("method");e=b.attr("action");i=b.serializeArray();var j=b.data("ujs:submit-button");j&&(i.push(j),b.data("ujs:submit-button",null))}else c=b.attr("data-method"),e=b.attr("href"),i=null;a.ajax({url:e,
type:c||"GET",data:i,dataType:f,beforeSend:function(a,c){c.dataType===void 0&&a.setRequestHeader("accept","*/*;q=0.5, "+c.accepts.script);return d(b,"ajax:beforeSend",[a,c])},success:function(a,c,d){b.trigger("ajax:success",[a,c,d])},complete:function(a,c){b.trigger("ajax:complete",[a,c])},error:function(a,c,d){b.trigger("ajax:error",[a,c,d])}})}function b(b){b.find("input[data-disable-with]").each(function(){var b=a(this);b.data("ujs:enable-with",b.val()).val(b.attr("data-disable-with")).attr("disabled",
"disabled")})}function f(b){b.find("input[data-disable-with]").each(function(){var b=a(this);b.val(b.data("ujs:enable-with")).removeAttr("disabled")})}function l(a){var b=a.attr("data-confirm");return!b||d(a,"confirm")&&confirm(b)}function j(b){var c=!1;b.find("input[name][required]").each(function(){a(this).val()||(c=!0)});return c}"ajaxPrefilter"in a?a.ajaxPrefilter(function(a,b,c){e(c)}):a(document).ajaxSend(function(a,b){e(b)});a("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",
function(){var b=a(this);if(!l(b))return!1;if(b.attr("data-remote")!=void 0)return c(b),!1;else if(b.attr("data-method")){var d=b.attr("href"),e=b.attr("data-method");b=a("meta[name=csrf-token]").attr("content");var f=a("meta[name=csrf-param]").attr("content");d=a('<form method="post" action="'+d+'"></form>');e='<input name="_method" value="'+e+'" type="hidden" />';f!==void 0&&b!==void 0&&(e+='<input name="'+f+'" value="'+b+'" type="hidden" />');d.hide().append(e).appendTo("body");d.submit();return!1}});
a("form").live("submit.rails",function(){var d=a(this),e=d.attr("data-remote")!=void 0;if(!l(d))return!1;if(j(d))return!e;if(e)return c(d),!1;else setTimeout(function(){b(d)},13)});a("form input[type=submit], form button[type=submit], form button:not([type])").live("click.rails",function(){var b=a(this);if(!l(b))return!1;var c=b.attr("name");c=c?{name:c,value:b.val()}:null;b.closest("form").data("ujs:submit-button",c)});a("form").live("ajax:beforeSend.rails",function(c){this==c.target&&b(a(this))});
a("form").live("ajax:complete.rails",function(b){this==b.target&&f(a(this))})})(jQuery);
