$(function(){});$(function(){$(".audiobook-switcher a").tooltip({tip:".tooltip",effect:"fade",fadeOutSpeed:100,predelay:0,position:"bottom right",offset:[-25,5]})});
(function(b){function f(h){var a=b('meta[name="csrf-token"]').attr("content");a&&h.setRequestHeader("X-CSRF-Token",a)}function c(h,a,c){a=new b.Event(a);h.trigger(a,c);return a.result!==!1}function d(a){var e,d,i,f=a.attr("data-type")||b.ajaxSettings&&b.ajaxSettings.dataType;if(a.is("form")){e=a.attr("method");d=a.attr("action");i=a.serializeArray();var j=a.data("ujs:submit-button");j&&(i.push(j),a.data("ujs:submit-button",null))}else e=a.attr("data-method"),d=a.attr("href"),i=null;b.ajax({url:d,
type:e||"GET",data:i,dataType:f,beforeSend:function(b,e){e.dataType===void 0&&b.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script);return c(a,"ajax:beforeSend",[b,e])},success:function(b,c,e){a.trigger("ajax:success",[b,c,e])},complete:function(b,c){a.trigger("ajax:complete",[b,c])},error:function(b,c,e){a.trigger("ajax:error",[b,c,e])}})}function a(a){a.find("input[data-disable-with]").each(function(){var a=b(this);a.data("ujs:enable-with",a.val()).val(a.attr("data-disable-with")).attr("disabled",
"disabled")})}function i(a){a.find("input[data-disable-with]").each(function(){var a=b(this);a.val(a.data("ujs:enable-with")).removeAttr("disabled")})}function j(b){var a=b.attr("data-confirm");return!a||c(b,"confirm")&&confirm(a)}function k(a){var c=!1;a.find("input[name][required]").each(function(){b(this).val()||(c=!0)});return c}"ajaxPrefilter"in b?b.ajaxPrefilter(function(b,a,c){f(c)}):b(document).ajaxSend(function(b,a){f(a)});b("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",
function(){var a=b(this);if(!j(a))return!1;if(a.attr("data-remote")!=void 0)return d(a),!1;else if(a.attr("data-method")){var c=a.attr("href"),i=a.attr("data-method");a=b("meta[name=csrf-token]").attr("content");var f=b("meta[name=csrf-param]").attr("content");c=b('<form method="post" action="'+c+'"></form>');i='<input name="_method" value="'+i+'" type="hidden" />';f!==void 0&&a!==void 0&&(i+='<input name="'+f+'" value="'+a+'" type="hidden" />');c.hide().append(i).appendTo("body");c.submit();return!1}});
b("form").live("submit.rails",function(){var c=b(this),e=c.attr("data-remote")!=void 0;if(!j(c))return!1;if(k(c))return!e;if(e)return d(c),!1;else setTimeout(function(){a(c)},13)});b("form input[type=submit], form button[type=submit], form button:not([type])").live("click.rails",function(){var a=b(this);if(!j(a))return!1;var c=a.attr("name");c=c?{name:c,value:a.val()}:null;a.closest("form").data("ujs:submit-button",c)});b("form").live("ajax:beforeSend.rails",function(c){this==c.target&&a(b(this))});
b("form").live("ajax:complete.rails",function(a){this==a.target&&i(b(this))})})(jQuery);
window.jQuery&&function(b){if(b.browser.msie)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(f){}b.fn.rating=function(c){if(this.length==0)return this;if(typeof arguments[0]=="string"){if(this.length>1){var d=arguments;return this.each(function(){b.fn.rating.apply(b(this),d)})}b.fn.rating[arguments[0]].apply(this,b.makeArray(arguments).slice(1)||[]);return this}c=b.extend({},b.fn.rating.options,c||{});b.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var a,
d=b(this),f=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),k=b(this.form||document.body),h=k.data("rating");if(!h||h.call!=b.fn.rating.calls)h={count:0,call:b.fn.rating.calls};var e=h[f];e&&(a=e.data("rating"));if(e&&a)a.count++;else{a=b.extend({},c||{},(b.metadata?d.metadata():b.meta?d.data():null)||{},{count:0,stars:[],inputs:[]});a.serial=h.count++;e=b('<span class="star-rating-control"/>');d.before(e);e.addClass("rating-to-be-drawn");if(d.attr("disabled"))a.readOnly=
!0;e.append(a.cancel=b('<div class="rating-cancel"><a title="'+a.cancel+'">'+a.cancelValue+"</a></div>").mouseover(function(){b(this).rating("drain");b(this).addClass("star-rating-hover")}).mouseout(function(){b(this).rating("draw");b(this).removeClass("star-rating-hover")}).click(function(){b(this).rating("select")}).data("rating",a))}var g=b('<div class="star-rating rater-'+a.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");e.append(g);this.id&&g.attr("id",this.id);this.className&&
g.addClass(this.className);if(a.half)a.split=2;if(typeof a.split=="number"&&a.split>0){var l=(b.fn.width?g.width():0)||a.starWidth,m=a.count%a.split;l=Math.floor(l/a.split);g.width(l).find("a").css({"margin-left":"-"+m*l+"px"})}a.readOnly?g.addClass("star-rating-readonly"):g.addClass("star-rating-live").mouseover(function(){b(this).rating("fill");b(this).rating("focus")}).mouseout(function(){b(this).rating("draw");b(this).rating("blur")}).click(function(){b(this).rating("select")});if(this.checked)a.current=
g;d.hide();d.change(function(){b(this).rating("select")});g.data("rating.input",d.data("rating.star",g));a.stars[a.stars.length]=g[0];a.inputs[a.inputs.length]=d[0];a.rater=h[f]=e;a.context=k;d.data("rating",a);e.data("rating",a);g.data("rating",a);k.data("rating",h)});b(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};b.extend(b.fn.rating,{calls:0,focus:function(){var c=this.data("rating");if(!c)return this;if(!c.focus)return this;var d=b(this).data("rating.input")||
b(this.tagName=="INPUT"?this:null);c.focus&&c.focus.apply(d[0],[d.val(),b("a",d.data("rating.star"))[0]])},blur:function(){var c=this.data("rating");if(!c)return this;if(!c.blur)return this;var d=b(this).data("rating.input")||b(this.tagName=="INPUT"?this:null);c.blur&&c.blur.apply(d[0],[d.val(),b("a",d.data("rating.star"))[0]])},fill:function(){var b=this.data("rating");if(!b)return this;b.readOnly||(this.rating("drain"),this.prevAll().andSelf().filter(".rater-"+b.serial).addClass("star-rating-hover"))},
drain:function(){var b=this.data("rating");if(!b)return this;b.readOnly||b.rater.children().filter(".rater-"+b.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var c=this.data("rating");if(!c)return this;this.rating("drain");c.current?(c.current.data("rating.input").attr("checked","checked"),c.current.prevAll().andSelf().filter(".rater-"+c.serial).addClass("star-rating-on")):b(c.inputs).removeAttr("checked");c.cancel[c.readOnly||c.required?"hide":"show"]();this.siblings()[c.readOnly?
"addClass":"removeClass"]("star-rating-readonly")},select:function(c,d){var a=this.data("rating");if(!a)return this;if(!a.readOnly){a.current=null;if(typeof c!="undefined"){if(typeof c=="number")return b(a.stars[c]).rating("select",void 0,d);typeof c=="string"&&b.each(a.stars,function(){b(this).data("rating.input").val()==c&&b(this).rating("select",void 0,d)})}else a.current=this[0].tagName=="INPUT"?this.data("rating.star"):this.is(".rater-"+a.serial)?this:null;this.data("rating",a);this.rating("draw");
var f=b(a.current?a.current.data("rating.input"):null);(d||d==void 0)&&a.callback&&a.callback.apply(f[0],[f.val(),b("a",a.current)[0]])}},readOnly:function(c,d){var a=this.data("rating");if(!a)return this;a.readOnly=c||c==void 0?!0:!1;d?b(a.inputs).attr("disabled","disabled"):b(a.inputs).removeAttr("disabled");this.data("rating",a);this.rating("draw")},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}});b.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",
split:0,starWidth:16};b(function(){b("input[type=radio].star").rating()})}(jQuery);function unique(b){var f=[],c=0;a:for(;c<b.length;c++){for(var d=0;d<f.length;d++)if(f[d]==b[c])continue a;f[f.length]=b[c]}return f};
